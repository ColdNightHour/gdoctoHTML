<!DOCTYPE HTML>
<html>
<head>
<script>
function allowDrop(ev) {
	ev.preventDefault();
}

function drag(ev) {
	ev.dataTransfer.setData("t", ev.target.id);
}

function drop(ev) {
	ev.preventDefault();
	var data = ev.dataTransfer.getData("t");
        var old = document.getElementById(data);
	var children = old.parentNode.childNodes;
	var chldArray = [];
	for(var i = 0; i < children.length; i++) {
		if(i % 2 == 1) 
			chldArray.push(children[i]);
	}
	console.log(chldArray[0]);
	console.log(chldArray[1]);
	console.log(chldArray.length);
	if(chldArray[0] == ev.target)
		console.log("Works");
	for(var i = 0; i < chldArray.length - 1; i++) {
		if(chldArray[i].isEqualNode(old) && chldArray[i + 1].isEqualNode(ev.target)) {
			console.log("first");
			ev.target.parentNode.insertBefore(ev.target, old);
		}
		else if(chldArray[i].isEqualNode(ev.target) && chldArray[i + 1].isEqualNode(old)) {
			console.log("second");
			old.parentNode.insertBefore(old, ev.target);
		}
	}
}

</script>
</head>
<body>

<p>Drag test</p><br />

<table border="1" cellpadding="1">
<tbody>
	<tr id="a" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">
		<td id="1" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">aaaaaa</td>	
		<td id="2" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">bbbbbb</td>
	</tr>
	<tr id="b" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">
		<td id="3" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">cccccc</td>
		<td id="4" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">dddddd</td>
	</tr>
	<tr id="c" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">
		<td id="5" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">eeeeee</td>
		<td id="6" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">ffffff</td>
	</tr>

</tbody>
</table>

</body>
</html>
